{"version":3,"file":"app~e4317507.bundle.js","mappings":"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","sources":["webpack://catalogue-restaurant/./src/scripts/routes/routes.js","webpack://catalogue-restaurant/./src/scripts/routes/url-parser.js","webpack://catalogue-restaurant/./src/scripts/utils/favorite-button-presenter.js","webpack://catalogue-restaurant/./src/scripts/utils/navbar-initiator.js","webpack://catalogue-restaurant/./src/scripts/utils/review-button-initiator.js","webpack://catalogue-restaurant/./src/scripts/utils/sw-register.js"],"sourcesContent":["import RestaurantList from '../views/pages/restaurant-list';\r\nimport RestaurantDetail from '../views/pages/restaurant-detail';\r\nimport Favorite from '../views/pages/favorite-restaurant';\r\n\r\nconst routes = {\r\n  '/': RestaurantList,\r\n  '/list': RestaurantList,\r\n  '/detail/:id': RestaurantDetail,\r\n  '/favorite': Favorite,\r\n};\r\n\r\nexport default routes;\r\n","const UrlParser = {\r\n  parseActiveUrlWithCombiner() {\r\n    const url = window.location.hash.slice(1).toLowerCase();\r\n    const splitedUrl = this._urlSplitter(url);\r\n    return this._urlCombiner(splitedUrl);\r\n  },\r\n\r\n  parseActiveUrlWithoutCombiner() {\r\n    const url = window.location.hash.slice(1).toLowerCase();\r\n    return this._urlSplitter(url);\r\n  },\r\n\r\n  _urlSplitter(url) {\r\n    const urlsSplits = url.split('/');\r\n    return {\r\n      resource: urlsSplits[1] || null,\r\n      id: urlsSplits[2] || null,\r\n      verb: urlsSplits[3] || null,\r\n    };\r\n  },\r\n\r\n  _urlCombiner(splitedUrl) {\r\n    return (splitedUrl.resource ? `/${splitedUrl.resource}` : '/')\r\n      + (splitedUrl.id ? '/:id' : '')\r\n      + (splitedUrl.verb ? `/${splitedUrl.verb}` : '');\r\n  },\r\n};\r\n\r\nexport default UrlParser;\r\n","import FavoriteRestaurantIdb from '../data/favorite-restaurant';\r\nimport { createFavoriteButtonTemplate, createFavoritedButtonTemplate } from '../views/templates/template-creator';\r\n\r\nconst favoriteButtonPresenter = {\r\n  async init({ favoriteButtonContainer, favoriteRestaurants, restaurant }) {\r\n    this._favoriteButtonContainer = favoriteButtonContainer;\r\n    this._favoriteRestaurants = favoriteRestaurants;\r\n    this._restaurant = restaurant;\r\n\r\n    await this._renderButton();\r\n  },\r\n\r\n  async _renderButton() {\r\n    const { id } = this._restaurant;\r\n\r\n    if (await this._isRestaurantExist(id)) {\r\n      this._renderFavorited();\r\n    } else {\r\n      this._renderFavorite();\r\n    }\r\n  },\r\n\r\n  async _isRestaurantExist(id) {\r\n    const restaurant = await FavoriteRestaurantIdb.getRestaurant(id);\r\n    return !!restaurant;\r\n  },\r\n\r\n  _renderFavorite() {\r\n    this._favoriteButtonContainer.innerHTML = createFavoriteButtonTemplate();\r\n\r\n    const favoriteButton = document.querySelector('#favoriteButton');\r\n    favoriteButton.addEventListener('click', async () => {\r\n      await FavoriteRestaurantIdb.putRestaurant(this._restaurant);\r\n      this._renderButton();\r\n    });\r\n  },\r\n\r\n  _renderFavorited() {\r\n    this._favoriteButtonContainer.innerHTML = createFavoritedButtonTemplate();\r\n\r\n    const favoriteButton = document.querySelector('#favoriteButton');\r\n    favoriteButton.addEventListener('click', async () => {\r\n      await FavoriteRestaurantIdb.deleteRestaurant(this._restaurant.id);\r\n      this._renderButton();\r\n    });\r\n  },\r\n};\r\n\r\nexport default favoriteButtonPresenter;\r\n","const NavbarInitiator = {\r\n  init({ buttonOpen, buttonClose, navbar, body }) {\r\n    buttonOpen.addEventListener('click', (event) => {\r\n      this._toggleNavbar({ event, navbar, body, buttonOpen });\r\n    });\r\n\r\n    buttonClose.addEventListener('click', (event) => {\r\n      this._closeNavbar({ event, navbar, body, buttonOpen });\r\n    });\r\n  },\r\n\r\n  _toggleNavbar({ event, navbar, body, buttonOpen }) {\r\n    event.stopPropagation();\r\n    navbar.classList.toggle('show_navbar_menu');\r\n    body.classList.toggle('disabled_body_scroll');\r\n    buttonOpen.classList.toggle('hide_button_open_navbar_menu');\r\n  },\r\n\r\n  _closeNavbar({ event, navbar, body, buttonOpen }) {\r\n    event.stopPropagation();\r\n    navbar.classList.remove('show_navbar_menu');\r\n    body.classList.remove('disabled_body_scroll');\r\n    buttonOpen.classList.remove('hide_button_open_navbar_menu');\r\n  },\r\n};\r\n\r\nexport default NavbarInitiator;\r\n","import RestaurantSource from '../data/restaurant-source';\r\n\r\nconst ButtonAddReview = {\r\n  async init({ id }) {\r\n    this._id = id;\r\n\r\n    await this._addReview(this._id);\r\n  },\r\n\r\n  async _addReview(restaurantId) {\r\n    const formCustomerName = document.querySelector('#formCustomerName');\r\n    const formCustomerReview = document.querySelector('#formCustomerReview');\r\n\r\n    if (formCustomerName.value === '' || formCustomerReview.value === '') {\r\n      alert('Kolom Review tidak boleh ada yang kosong!');\r\n    } else {\r\n      const data = {\r\n        id: restaurantId,\r\n        name: formCustomerName.value,\r\n        review: formCustomerReview.value,\r\n      };\r\n\r\n      await RestaurantSource.addCustomerReview(data);\r\n      formCustomerName.value = '';\r\n      formCustomerReview.value = '';\r\n    }\r\n  },\r\n};\r\n\r\nexport default ButtonAddReview;\r\n","import * as WorkboxWindow from 'workbox-window';\r\n\r\nconst swRegister = async () => {\r\n  if (!('serviceWorker' in navigator)) {\r\n    console.log('Service Worker not supported in the browser');\r\n    return;\r\n  }\r\n\r\n  const wb = new WorkboxWindow.Workbox('./sw.bundle.js');\r\n  try {\r\n    await wb.register();\r\n    console.log('service worker registered');\r\n  } catch (error) {\r\n    console.log('Failed to register service worker', error);\r\n  }\r\n};\r\n\r\nexport default swRegister;\r\n"],"names":["RestaurantList","RestaurantDetail","Favorite","parseActiveUrlWithCombiner","url","window","location","hash","slice","toLowerCase","splitedUrl","this","_urlSplitter","_urlCombiner","parseActiveUrlWithoutCombiner","urlsSplits","split","resource","id","verb","i","init","favoriteButtonContainer","favoriteRestaurants","restaurant","_favoriteButtonContainer","_favoriteRestaurants","_restaurant","_renderButton","_isRestaurantExist","_renderFavorited","_renderFavorite","FavoriteRestaurantIdb","innerHTML","createFavoriteButtonTemplate","document","querySelector","addEventListener","createFavoritedButtonTemplate","buttonOpen","buttonClose","navbar","body","event","_toggleNavbar","_closeNavbar","stopPropagation","classList","toggle","remove","_id","_addReview","restaurantId","formCustomerName","formCustomerReview","value","alert","data","name","review","RestaurantSource","navigator","console","log","wb","WorkboxWindow","register"],"sourceRoot":""}